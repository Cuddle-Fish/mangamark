<!DOCTYPE html>
<html>
  <head>
    <title>Mangamark - Settings</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" type="text/css" href="options.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  </head>
  <body>
    <div class="left">
      <a href="/manager/manager.html" class="icon-button"><svg-icon type="arrow-back"></svg-icon></a>
      <h1>Settings</h1>
    </div>

    <div class="main">
      <div class="section">
        <div class="section-title">
          <svg-icon type="folder"></svg-icon>
          <span>Folder Options</span>
        </div>
        <div class="section-options">
          <div class="option">
            <div class="option-title">Rename Folder</div>
            <dropdown-menu id="folder-rename-select" variant="highlight"></dropdown-menu>
            <div class="option-row">
              <input id="folder-rename-input" placeholder="Enter Folder Name" disabled />
              <themed-button id="folder-rename-confirm" disabled>Confirm</themed-button>
            </div>
          </div>
          <hr />
          <div class="option">
            <div class="option-title">Set Extension Folder</div>
            <div class="option-row">
              <div><span>Extension Folder: </span><span id="extension-folder-name"></span></div>
              <themed-button id="edit-extension-folder">Change</themed-button>
            </div>
            <set-extension-folder id="set-extension-folder" style="display: none;"></set-extension-folder>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title">
          <svg-icon type="side-navigation"></svg-icon>
          <span>Sidebar Options</span>
        </div>
        <div class="section-options">
          <div class="option">
            <div class="option-title">Navigation Order</div>
            <p class="option-description">
              Change the order of the side navigation panel by dragging and dropping folders.
            </p>
            <ul id="draggable-folder-list"></ul>
            <div class="option-buttons-row">
              <themed-button id="reset-nav-order" variant="secondary" disabled>Reset</themed-button>
              <themed-button id="change-nav-order" disabled>Confirm</themed-button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="section">
        <div class="section-title">
          <svg-icon type="regex"></svg-icon>
          <span>Site Regex</span>
        </div>
        <div class="section-options">
          <div class="option">
            <p class="option-description">
              Create/Edit title and chapter matching for specific web domains. When creating your own regex strings note
              that your regex will be matched against the page title.
            </p>
            <p class="option-description">
              <strong>Adanced Option</strong> This option is only intead for users with a basic understanding of regex.
            </p>
            <dropdown-menu id="regex-select" variant="highlight" style="--dropdown-max-height: 440px"></dropdown-menu>
            <div class="regex-input-container">
              <div>
                <label for="regex-domain">Domain:</label>
                <input id="regex-domain" name="regex-domain" list="domain-options" placeholder="Enter domain (without http:// or www.)" />
                <datalist id="domain-options"></datalist>
              </div>
              <div>
                <label for="regex-title">Title Regex:</label>
                <input id="regex-title" name="regex-title" placeholder="e.g., ^(.*?) -" />
              </div>
              <div>
                <label for="regex-chapter">Chapter Regex:</label>
                <input id="regex-chapter" name="regex-chapter" placeholder="e.g., (?:Chapter|Episode) (\d+\.?\d*|\.\d+)" />
              </div>
              <div>
                <label for="regex-test-input">Test Page Title:</label>
                <input id="regex-test-input" name="regex-test" placeholder="Paste a sample page title to test" />
                <themed-button id="regex-test-button" size="small">Test Regex</themed-button>
                <div id="regex-test-results" style="display: none;">
                  <div><span id="test-title-label">Title: </span><span id="title-result"></span></div>
                  <div><span id="test-chapter-label">Chapter: </span><span id="chapter-result"></span></div>
                </div>
              </div>
            </div>

            <div class="regex-button-container">
              <themed-button id="regex-remove" variant="warning" disabled>Remove</themed-button>
              <div>
                <themed-button id="regex-reset" variant="secondary" disabled>Reset</themed-button>
                <themed-button id="regex-confirm" disabled>Confirm</themed-button>
              </div>
            </div>
            <div id="regex-notification" style="display: none;">
              <span class="notification-label"></span>
              <span class="error-text"></span>
              <span class="removed-text"></span>
              <span class="added-text"></span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="options.js" type="module"></script>
  </body>
</html>